<div id="repairlist">
    <div class="container-fluid nav">
        <div class="rows">
            <div class="col-xs-6">
                <a ui-sref="repair" class="under_line">报修记录</a>
            </div>
            <div class="col-xs-6">
                <a ui-sref="repair-add">我要报修</a>
            </div>
        </div>
    </div>
    <div class="container-fluid" ng-if="vm.repairs.length == 0">
        <div class="icon_err"></div>
        <div class="err_b_font">暂时还没有报修记录哦~</div>
        <div class="err_s_font"> 如需报修，请点击</div>
        <a ui-sref="repair-add">
            <input type="button" value="我要报修" class="repair_btn">
        </a>
    </div>
    <div class="contain_down" ng-if="vm.repairs.length > 0" when-scrolled="vm.load({{vm.currentPage+1}},vm.pageSize)">
        <ul class="item_service">
            <li id="repair_type" ng-repeat="repair in vm.repairs">
                
                <a ui-sref="repair-detail({id:repair.id})">
                    <div class='date_state'>
                        <span class='date' >{{repair.createDate.substring(0.10)}}</span>
                        <span class='state' ng-if="repair.state==0">等待指派</span>
                        <span class='state' ng-if="repair.state==1">已指派</span>
                        <span class='state' ng-if="repair.state==2">指派完成待确认</span>
                        <span class='state3' ng-if="repair.state==2 || repair.state==3">已完成</span>
                    </div>
                    <div class='goods'>{{repair.device}}</div>
                </a>
                <!-- <div class='state_btn'>
                    <a ui-sref="repair-detail({id:repair.id})" class="check">查看</a>
                    <a class='complete' ng-if="repair.state==1 || repair.state==2" ng-click="vm.confirm(repair.id)">确认完成</a>
                </div> -->
            </li>
        </ul>
    </div>
    <div class="prompt_mask" ng-show="suc_show">
        <div class="prompt_dialog">
            <div class="prompt_icon"></div>
            <div class="prompt_font">提交成功</div>
            <input type="button" class="prompt_btn" value="确定" ng-click="mask_close()">
        </div>
    </div>
    <div class="prompt_mask_err" ng-show="err_show">
        <div class="prompt_dialog">
            <div class="prompt_icon_err"></div>
            <div class="prompt_font">提交失败，请稍后再试</div>
            <input type="button" class="prompt_btn" value="确定" ng-click="mask_err_close()">
        </div>
    </div>
</div>















<hr>





<hr><hr><hr>
<div id="repair_detail">
    <div class="container-fluid">
        <div id="repair_type" class="repair_list">
            <ul>
                <li><span class="equip">故障描述</span><span class="device">{{vm.repair.remark}}</span>
                </li>
                <li><span class="b_date">报修地址</span><span class="date_time">{{vm.repair.block}}</span>
                </li>
                <li><span class="number">联系方式</span><span class="list_num">{{vm.repair.mobile}}</span>
                </li>
                <div class="repaie_state repaie_state3" >
                    <img src="images/repair_03.png" alt=""><span><div class="triangle"></div>维修完成<span class="repaie_state_right">1111</span></span>
                </div>
                <div class="repaie_state repaie_state2" >
                    <img src="images/repair_09.png" alt=""><span>物业确认<span class="repaie_state_right">2222</span></span>
                </div>
                <div class="repaie_state repaie_state1" >
                    <img src="images/repair_09.png" alt=""><span>业主报修<span class="repaie_state_right">3333</span></span>
                </div>                
            </ul>
        </div>
        <div class="repair_but">
            <input class="l_btn" type="button" value="确认完成" ng-hide="success" ng-click="vm.confirm(vm.repair.id)">
        </div>
        
    </div>

    <!-- <li ng-if="vm.repair.state==2">
        <span class="w_time">完成时间:</span>
        <span class="suc_time">{{vm.repair.confirmDate}}</span>
    </li>
    <li ng-if="vm.repair.state==3">
        <span class="w_time">完成时间:</span>
        <span class="suc_time">{{vm.repair.finishDate}}</span>
    </li> -->

    <div class="prompt_mask" ng-show="suc_show">
        <div class="prompt_dialog">
            <div class="prompt_icon"></div>
            <div class="prompt_font">提交成功</div>
            <input type="button" class="prompt_btn" value="确定" ng-click="mask_close()">
        </div>
    </div>
    <div class="prompt_mask_err" ng-show="err_show">
        <div class="prompt_dialog">
            <div class="prompt_icon_err"></div>
            <div class="prompt_font">提交失败，请稍后再试</div>
            <input type="button" class="prompt_btn" value="确定" ng-click="mask_err_close()">
        </div>
    </div>

</div>
    


    