<div id="repair_listtpl">
    <div class="container-fluid nav">
        <div class="rows">
            <div class="col-xs-6">
                <a ui-sref="repair" class="under_line">报修记录</a>
            </div>
            <div class="col-xs-6">
                <a ui-sref="repair-add">我要报修</a>
            </div>
        </div>
    </div>
    <div class="container-fluid" ng-if="vm.repairs.length == 0">
        <div class="icon_err"></div>
        <div class="err_b_font">暂时还没有报修记录哦~</div>
        <div class="err_s_font"> 如需报修，请点击</div>
        <a ui-sref="repair-add">
            <input type="button" value="我要报修" class="repair_btn">
        </a>
    </div>
    <div class="contain_down" ng-if="vm.repairs.length > 0" when-scrolled="vm.load({{vm.currentPage+1}},vm.pageSize)">
        <ul class="item_service">
            <li id="repair_type" ng-repeat="repair in vm.repairs">
                <a ui-sref="repair-detail({id:repair.id})">
                    <div class='date_state'>
                        <span class='date' ng-bind="repair.createDate.substring(0.10)"></span>
                        <span class='state' ng-if="repair.state==0">等待物业确认</span>
                        <span class='state' ng-if="repair.state==1">物业已确认</span>
                        <span class='state' ng-if="repair.state==2">维修完成</span>
                        <span class='state3' ng-if="repair.state==3">业主已确认</span>
                    </div>
                    <div class='goods' ng-bind="repair.device"></div>
                </a>
            </li>
        </ul>
    </div>
</div>

<c-loading show="showLoading" tip="正在加载中..." tip-loading="loading"></c-loading>