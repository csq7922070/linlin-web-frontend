<div id="rapair_add">
    <div class="container-fluid nav">
        <div class="rows">
            <div class="col-xs-6">
                <a ui-sref="repair">报修记录</a>
            </div>
            <div class="col-xs-6">
                <a ui-sref="repair-add" class="under_line">我要报修</a>
            </div>
        </div>
    </div>
    <form ng-submit="vm.submitForm()" name="repairForm" class="form-signin" method="post" novalidate>
        <div class="container">
            <select id="up_year" ng-model="currentDevice" ng-options="decive.name for decive in decives" class="col-xs-8"></select>
  
            <textarea class="repair_detail" name="remark" ng-model="vm.repair.remark" maxlength="1000" placeholder="请详细描述下出现的问题" required ng-maxlength="20" ng-class="{'has-error':repairForm.remark.$touched && repairForm.remark.$dirty && repairForm.remark.$invalid}"></textarea>

            <div class="com_address">
                <div class="com_left">
                    <span>{{defaultcity||'city'}}</span>-<span>{{defaultcommunity||'小区'}}</span><span ng-model="vm.repair.block">-{{defaultblock||'楼栋号'}}</span><span ng-model="vm.repair.unit" ng-if="defaultunit">-{{defaultunit}}</span><span ng-model="vm.repair.room" ng-if="defaultroom">-{{defaultroom}}</span>
                </div>
                <div class="com_right" ng-click="changeAddress()">
                    <a class='replied_state'>编辑</a>
                </div>
            </div>

            <input class="repair_mobile" type="text" placeholder="您的手机号码" name="mobile" ng-model="defaultmobile" ng-pattern="/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/" maxlength="11" required>
            <span class="room_hidden" ng-show="repairForm.mobile.$touched && repairForm.mobile.$dirty && repairForm.mobile.$invalid" ng-class="{true:'tel-edit'}[vm.repair.mobile!='']">*请输入正确的手机号码</span>
        </div>
        <div class="prompt_mask" ng-show="vm.suc_show">
            <div class="prompt_dialog">
                <div class="prompt_icon"></div>
                <div class="prompt_font">提交成功</div>
                <input type="button" class="prompt_btn" value="确定" ng-click="vm.mask_close()">
            </div>
        </div>
        <div class="prompt_mask_err" ng-show="vm.err_show">
            <div class="prompt_dialog">
                <div class="prompt_icon_err"></div>
                <div class="prompt_font">提交失败，请稍后再试</div>
                <input type="button" class="prompt_btn" value="确定" ng-click="vm.mask_err_close()">
            </div>
        </div>
        <div class="container">
            <button type="submit" type="button" class="submit_btn" ng-disabled="repairForm.$invalid">提交</button>
        </div>
    </form>
</div>
<c-address-list show="showAddressList" on-complete="onSelectAddressComplete()" address-list="addressList" mode="addressListMode" ng-init="addressListMode='select'"></c-address-list>
